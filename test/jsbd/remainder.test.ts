import { JSBD } from '../../src/jsbd'

let t = (a: any, b: any, expected: any, roundOption?: any) => {
  test(a.toString() + ' % ' + b.toString(), () => {
    let a1 = JSBD.BigDecimal(a)
    let b1 = JSBD.BigDecimal(b)
    let res = JSBD.remainder(a1, b1, roundOption)
    expect(res.toString()).toBe(expected.toString())
  })
}

test('100 remainder 2', () => {
  let a = JSBD.BigDecimal('100')
  let b = JSBD.BigDecimal('2')
  expect(JSBD.remainder(a, b).toString()).toBe('0')
})

test('-101 remainder -1.3', () => {
  let a = JSBD.BigDecimal('-101')
  let b = JSBD.BigDecimal('-1.3')
  expect(JSBD.remainder(a, b).toString()).toBe('-0.9')
})

test('-101 remainder 1.3', () => {
  let a = JSBD.BigDecimal('-101')
  let b = JSBD.BigDecimal('1.3')
  expect(JSBD.remainder(a, b).toString()).toBe('-0.9')
})

test('101 remainder -1.3', () => {
  let a = JSBD.BigDecimal('101')
  let b = JSBD.BigDecimal('-1.3')
  expect(JSBD.remainder(a, b).toString()).toBe('0.9')
})

test('101 remainder 1.3', () => {
  let a = JSBD.BigDecimal('101')
  let b = JSBD.BigDecimal('1.3')
  expect(JSBD.remainder(a, b).toString()).toBe('0.9')
})

test('11.5 remainder 0.6', () => {
  let a = JSBD.BigDecimal('11.5')
  let b = JSBD.BigDecimal('0.4')
  expect(
    JSBD.remainder(a, b, {
      maximumFractionDigits: 0,
    }).toString()
  ).toBe('0')
})

t('-867900', '789', '0')
t('-57449800', '-7', '-2')
t('-60712400', '-1', '0')
t('-20800', '770154', '-20800')
t('20800', '-444564', '20800')
t('-947891200', '47', '-41')
t('1566400', '-6274', '4174')
t('989900', '-7954', '3604')
t('-6091400', '-729', '-605')
t('-200', '-2937', '-200')
t('-100', '-998764', '-100')
t('1000', '-932480', '1000')
t('-500', '-1263713', '-500')
t('-352800', '70397', '-815')
t('-6497200', '-676', '-164')
t('-600', '2171', '-600')
t('337159200', '-498225', '359100')
t('62017000', '-42008', '13192')
t('-99953000', '8160303', '-2029364')
t('-28041500', '99782', '-2758')
t('77272300', '973', '532')
t('96737400', '87450053', '9287347')
t('-220310500', '39609', '-5242')
t('-48223900', '-302650264', '-48223900')
t('-100', '-3897784', '-100')
t('-41875600', '40912', '-22624')
t('3341300', '-4', '0')
t('-200', '-52', '-44')
t('-74000', '-9634', '-6562')
t('6600', '3758', '2842')
t('-8070800', '-825585', '-640535')
t('-3915500', '90', '-50')
t('-143400', '9', '-3')
t('-5520800', '-82', '-68')
t('24900', '-46397', '24900')
t('-400', '87902683', '-400')
t('-37600', '-376547', '-37600')
t('6459800', '132139489', '6459800')
t('-54151100', '-74058', '-14702')
t('-503200', '-9', '-1')
t('848700', '-47831', '35573')
t('4597200', '3435661', '1161539')
t('-498100', '-1', '0')
t('31405700', '82', '28')
t('-700', '99', '-7')
t('81055800', '76164818', '4890982')
t('-44015900', '-170', '-10')
t('-22900', '-97096', '-22900')
t('65799300', '-44', '28')
t('-721817200', '-976851711', '-721817200')
t('-897883600', '-980905813', '-897883600')
t('3744500', '-3225', '275')
t('-76100', '4149161', '-76100')
t('658400', '2380023', '658400')
t('400', '-6670530', '400')
t('939500', '188701731', '939500')
t('-3000', '238381165', '-3000')
t('-100', '-412520', '-100')
t('-600', '6894393', '-600')
t('-63161100', '47929', '-38607')
t('-8800', '95', '-60')
t('-813697800', '198165', '-32310')
t('-854953400', '1', '0')
t('-374100', '51', '-15')
t('-5440100', '35', '-15')
t('889492500', '-7', '1')
t('-18905500', '25', '0')
t('6688300', '-355', '100')

t('8', '-7', '1')
t('-60', '234377800', '-60')
t('16.3', '-6182670', '16.3')
t('-5', '-67292985.01', '-5')
t('932277.2', '85172237.15', '932277.2')
t('9761347', '-54635.62', '36206.64')
t('197736628.9', '-39608450.49', '39302826.94')
t('0.2', '-8682008.56', '0.2')
t('1', '-182.16', '1')
t('-206.8', '5920.38', '-206.8')
t('-87815541.7', '11044387', '-10504832.7')
t('-25.4', '-88043.07', '-25.4')
t('595752368.4', '-886149.86', '259662.48')
t('-9.3', '-2146736.56', '-9.3')
t('0.6', '-25.07', '0.6')
t('3985', '-1.6', '1')
t('-890072', '400776', '-88520')
t('-39062.8', '-24.56', '-12.4')
t('2788.5', '-2.23', '1')
t('984', '-48.27', '18.6')
t('976076', '304', '236')
t('5184931', '2615.21', '1584.78')
t('357033393.5', '75069', '5229.5')
t('6091.4', '0.9', '0.2')
t('73431829', '-53544', '23005')
t('7', '7555762', '7')
t('3', '-8165094.53', '3')
t('-858', '-659472734.23', '-858')
t('-8', '-96', '-8')
t('3', '33308.28', '3')
t('-5085', '6', '-3')
t('0.5', '-162391926', '0.5')
t('-205260008', '-2340', '-2228')
t('-20894582', '1999975', '-894832')
t('5.8', '-69733305', '5.8')
t('-3', '-6003.68', '-3')
t('58024663', '-152449.79', '93742.8')
t('-367.4', '-3951463', '-367.4')
t('-3', '971825', '-3')
t('3', '-455451948.83', '3')
t('995.8', '341', '313.8')
t('-7197.8', '-2.3', '-1.1')
t('-41', '632769809', '-41')
t('662366', '-6677.65', '1278.65')
t('-28559', '-9945053', '-28559')
t('540245310.2', '-486824.66', '356762.26')
t('-3445', '-415782135.78', '-3445')
t('-10.9', '-5', '-0.9')
t('-74487', '8729666.95', '-74487')
t('-2213', '10118781', '-2213')
t('-183924', '-98378492', '-183924')
t('43', '-71695842', '43')
t('3590.4', '80607499.87', '3590.4')
t('-43777', '-717728545', '-43777')
t('-76581334', '-59', '-42')
t('6930', '-9207.58', '6930')
t('-76546', '51187227', '-76546')
t('-5748132.6', '-84', '-12.6')
t('-381452005.5', '26783.21', '-5528.68')
t('62291.1', '-15953.71', '14429.97')
t('-0.7', '-9.39', '-0.7')
t('4570', '-252.74', '20.68')
t('0.8', '-76615345', '0.8')
t('36', '50349559', '36')
t('-41623851.8', '6434.17', '-1206.07')
t('-310', '-1095887.54', '-310')
t('5', '-25', '5')
t('20475731.6', '2628343', '2077330.6')
t('-38771723.9', '951633559', '-38771723.9')
t('112795281.7', '-2.12', '1.18')
t('771', '-6', '3')
t('0.7', '45814740.46', '0.7')
t('-757492.1', '-932216329', '-757492.1')
t('-1376.2', '-7689194', '-1376.2')
t('0.4', '-2', '0.4')
t('8762', '-9.83', '3.47')
t('-9.9', '39', '-9.9')
t('-714', '358575.53', '-714')
t('-1420097.8', '-35369.44', '-5320.2')
t('6685639.6', '-21919', '344.6')
t('16.6', '-13806163', '16.6')
t('0.7', '-5103.22', '0.7')
t('-610329140.3', '80023.05', '-73361')
t('-57891', '4909.92', '-3881.88')
t('-1960.9', '3895', '-1960.9')
t('-1', '4808', '-1')
t('55588847', '503.31', '270.74')
t('24590262.5', '526598.81', '366717.24')
t('0.4', '6.43', '0.4')
t('40', '712.23', '40')
t('725502020', '549420.85', '266498')
t('-5.5', '1.1', '0')
t('-5.50000001', '1.1', '-0.00000001')

// reminder with roundOption
t('-40739.7', '-416', '-387.7', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-6078.5', '5.75', '-0.7', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('833585626.5', '-62789975.46', '17315945.5', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-218930626', '-8321', '-5116', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('64918016', '4', '0', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-246566', '-50777968', '-246566', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-94266626', '76', '-26', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-7652980', '60411345', '-7652980', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('68.1', '0.87', '0.2', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('29.8', '600475435.08', '29.8', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-55', '82272', '-55', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('8182488', '138501807.79', '8182488', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('59359.2', '-7213.73', '1649.4', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('5925168', '826.58', '242.6', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('75360159', '0.36', '0', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('15', '-533461683', '15', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('4155', '-7.12', '4', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-896.5', '-1.69', '-0.8', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('70556759', '668058193', '70556759', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('24444.1', '5882', '916.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-2', '9707458', '-2', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-0.5', '-9', '-0.5', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-3.5', '-68310075.83', '-3.5', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('73807.4', '-7736051', '73807.4', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-2996.6', '1617670.85', '-2996.6', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('8399973.7', '2', '1.7', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-36507818.3', '-3', '-2.3', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('9.8', '-43.27', '9.8', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('30107.7', '219168', '30107.7', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-3', '770414', '-3', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-8.9', '-86032.97', '-8.9', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-95.2', '-365424', '-95.2', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-687', '-39002', '-687', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-95', '-9617831', '-95', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-45', '-0.51', '-0.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('90.3', '973203', '90.3', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-91553', '192464', '-91553', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('48342535', '-97599632.12', '48342535', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('147842', '738591', '147842', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-31', '65501104.14', '-31', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('3087', '-62365591.22', '3087', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-146717501', '5.56', '-4.2', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-361030.8', '762923841.95', '-361030.8', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('1127931', '6178.37', '3467.7', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-50.1', '8.23', '-0.7', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('864401', '-66931', '61229', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('2', '-946283763.19', '2', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-53051858', '-1033445.71', '-346126.8', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('96.6', '-76572489.05', '96.6', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-421676606.8', '-3999932.14', '-1683732.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-6001086', '2.15', '-1.7', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-119', '0.7', '0', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-850', '1.57', '-0.6', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('3441', '-99477467', '3441', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('133097780', '902', '464', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('5919', '597657972.47', '5919', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('839928753.3', '-286371662', '267185429.3', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-35.5', '-2816780.09', '-35.5', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('5', '-5353', '5', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('0.8', '-4', '0.8', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-366231302.4', '-535159', '-182546.4', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-526282587', '1861611', '-1308285', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-3903442', '4832', '-4018', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-0.4', '-181353341', '-0.4', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('8.8', '-71', '8.8', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-9541.6', '58', '-29.6', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('85984.2', '1801208.97', '85984.2', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-148.5', '-19.92', '-9.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('6245174', '444601322.78', '6245174', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('803424', '-409211.01', '394213', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-65444767', '-91', '-24', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('0.4', '28.81', '0.4', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('82', '223', '82', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('5257979', '-4804', '2403', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('50737.1', '100484768', '50737.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-65', '752779.01', '-65', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-0.2', '-95', '-0.2', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-9257646.3', '2051671', '-1050962.3', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('0.1', '2366', '0.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('38226476', '16047561', '6131354', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-76090071', '15274.11', '-9729.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('5.1', '-8', '5.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('44571', '298705', '44571', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-19331982', '-80471.95', '-18714', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('0.3', '60.93', '0.3', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-6431202.3', '37', '-10.3', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('1.5', '-190208340.56', '1.5', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('-85367.5', '-37.91', '-32.1', { maximumFractionDigits: 1, roundingMode: 'half down' })
t('228724.7', '-0.51', '0.4', { maximumFractionDigits: 1, roundingMode: 'half down' })
